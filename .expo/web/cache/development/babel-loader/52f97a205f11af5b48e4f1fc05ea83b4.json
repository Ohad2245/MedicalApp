{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport NativeModules from \"react-native-web/dist/exports/NativeModules\";\nimport StorageRef from \"./reference\";\nimport { getAppEventName, SharedEventEmitter } from \"../../utils/events\";\nimport { getLogger } from \"../../utils/log\";\nimport { stripTrailingSlash } from \"../../utils\";\nimport ModuleBase from \"../../utils/ModuleBase\";\nimport { getNativeModule } from \"../../utils/native\";\nvar FirebaseStorage = NativeModules.RNFirebaseStorage;\nvar NATIVE_EVENTS = ['storage_event', 'storage_error'];\nexport var MODULE_NAME = 'RNFirebaseStorage';\nexport var NAMESPACE = 'storage';\n\nvar Storage = function (_ModuleBase) {\n  _inherits(Storage, _ModuleBase);\n\n  var _super = _createSuper(Storage);\n\n  function Storage(app) {\n    var _this;\n\n    _classCallCheck(this, Storage);\n\n    _this = _super.call(this, app, {\n      events: NATIVE_EVENTS,\n      moduleName: MODULE_NAME,\n      hasMultiAppSupport: true,\n      hasCustomUrlSupport: false,\n      namespace: NAMESPACE\n    });\n    SharedEventEmitter.addListener(getAppEventName(_assertThisInitialized(_this), 'storage_event'), _this._handleStorageEvent.bind(_assertThisInitialized(_this)));\n    SharedEventEmitter.addListener(getAppEventName(_assertThisInitialized(_this), 'storage_error'), _this._handleStorageEvent.bind(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Storage, [{\n    key: \"ref\",\n    value: function ref(path) {\n      return new StorageRef(this, path);\n    }\n  }, {\n    key: \"refFromURL\",\n    value: function refFromURL(url) {\n      return new StorageRef(this, \"url::\" + url);\n    }\n  }, {\n    key: \"setMaxOperationRetryTime\",\n    value: function setMaxOperationRetryTime(time) {\n      getNativeModule(this).setMaxOperationRetryTime(time);\n    }\n  }, {\n    key: \"setMaxUploadRetryTime\",\n    value: function setMaxUploadRetryTime(time) {\n      getNativeModule(this).setMaxUploadRetryTime(time);\n    }\n  }, {\n    key: \"setMaxDownloadRetryTime\",\n    value: function setMaxDownloadRetryTime(time) {\n      getNativeModule(this).setMaxDownloadRetryTime(time);\n    }\n  }, {\n    key: \"_getSubEventName\",\n    value: function _getSubEventName(path, eventName) {\n      return getAppEventName(this, path + \"-\" + eventName);\n    }\n  }, {\n    key: \"_handleStorageEvent\",\n    value: function _handleStorageEvent(event) {\n      var path = event.path,\n          eventName = event.eventName;\n      var body = event.body || {};\n      getLogger(this).debug('_handleStorageEvent: ', path, eventName, body);\n      SharedEventEmitter.emit(this._getSubEventName(path, eventName), body);\n    }\n  }, {\n    key: \"_handleStorageError\",\n    value: function _handleStorageError(err) {\n      var path = err.path,\n          eventName = err.eventName;\n      var body = err.body || {};\n      getLogger(this).debug('_handleStorageError ->', err);\n      SharedEventEmitter.emit(this._getSubEventName(path, eventName), body);\n    }\n  }, {\n    key: \"_addListener\",\n    value: function _addListener(path, eventName, cb) {\n      SharedEventEmitter.addListener(this._getSubEventName(path, eventName), cb);\n    }\n  }, {\n    key: \"_removeListener\",\n    value: function _removeListener(path, eventName, origCB) {\n      SharedEventEmitter.removeListener(this._getSubEventName(path, eventName), origCB);\n    }\n  }]);\n\n  return Storage;\n}(ModuleBase);\n\nexport { Storage as default };\nexport var statics = {\n  TaskEvent: {\n    STATE_CHANGED: 'state_changed'\n  },\n  TaskState: {\n    RUNNING: 'running',\n    PAUSED: 'paused',\n    SUCCESS: 'success',\n    CANCELLED: 'cancelled',\n    ERROR: 'error'\n  },\n  Native: FirebaseStorage ? {\n    MAIN_BUNDLE_PATH: stripTrailingSlash(FirebaseStorage.MAIN_BUNDLE_PATH),\n    CACHES_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.CACHES_DIRECTORY_PATH),\n    DOCUMENT_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.DOCUMENT_DIRECTORY_PATH),\n    EXTERNAL_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.EXTERNAL_DIRECTORY_PATH),\n    EXTERNAL_STORAGE_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.EXTERNAL_STORAGE_DIRECTORY_PATH),\n    TEMP_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.TEMP_DIRECTORY_PATH),\n    LIBRARY_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.LIBRARY_DIRECTORY_PATH),\n    FILETYPE_REGULAR: stripTrailingSlash(FirebaseStorage.FILETYPE_REGULAR),\n    FILETYPE_DIRECTORY: stripTrailingSlash(FirebaseStorage.FILETYPE_DIRECTORY)\n  } : {}\n};","map":{"version":3,"names":["StorageRef","getAppEventName","SharedEventEmitter","getLogger","stripTrailingSlash","ModuleBase","getNativeModule","FirebaseStorage","NativeModules","RNFirebaseStorage","NATIVE_EVENTS","MODULE_NAME","NAMESPACE","Storage","app","events","moduleName","hasMultiAppSupport","hasCustomUrlSupport","namespace","addListener","_handleStorageEvent","bind","path","url","time","setMaxOperationRetryTime","setMaxUploadRetryTime","setMaxDownloadRetryTime","eventName","event","body","debug","emit","_getSubEventName","err","cb","origCB","removeListener","statics","TaskEvent","STATE_CHANGED","TaskState","RUNNING","PAUSED","SUCCESS","CANCELLED","ERROR","Native","MAIN_BUNDLE_PATH","CACHES_DIRECTORY_PATH","DOCUMENT_DIRECTORY_PATH","EXTERNAL_DIRECTORY_PATH","EXTERNAL_STORAGE_DIRECTORY_PATH","TEMP_DIRECTORY_PATH","LIBRARY_DIRECTORY_PATH","FILETYPE_REGULAR","FILETYPE_DIRECTORY"],"sources":["C:/Users/PC/Desktop/All/StoreApp2/my-app/node_modules/react-native-firebase/dist/modules/storage/index.js"],"sourcesContent":["/**\n * \n * Storage representation wrapper\n */\nimport { NativeModules } from 'react-native';\nimport StorageRef from './reference';\nimport { getAppEventName, SharedEventEmitter } from '../../utils/events';\nimport { getLogger } from '../../utils/log';\nimport { stripTrailingSlash } from '../../utils';\nimport ModuleBase from '../../utils/ModuleBase';\nimport { getNativeModule } from '../../utils/native';\nconst FirebaseStorage = NativeModules.RNFirebaseStorage;\nconst NATIVE_EVENTS = ['storage_event', 'storage_error'];\nexport const MODULE_NAME = 'RNFirebaseStorage';\nexport const NAMESPACE = 'storage';\nexport default class Storage extends ModuleBase {\n  /**\n   *\n   * @param app\n   * @param options\n   */\n  constructor(app) {\n    super(app, {\n      events: NATIVE_EVENTS,\n      moduleName: MODULE_NAME,\n      hasMultiAppSupport: true,\n      hasCustomUrlSupport: false,\n      namespace: NAMESPACE\n    });\n    SharedEventEmitter.addListener(getAppEventName(this, 'storage_event'), this._handleStorageEvent.bind(this));\n    SharedEventEmitter.addListener(getAppEventName(this, 'storage_error'), this._handleStorageEvent.bind(this));\n  }\n  /**\n   * Returns a reference for the given path in the default bucket.\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Storage#ref\n   * @param path\n   * @returns {StorageReference}\n   */\n\n\n  ref(path) {\n    return new StorageRef(this, path);\n  }\n  /**\n   * Returns a reference for the given absolute URL.\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Storage#refFromURL\n   * @param url\n   * @returns {StorageReference}\n   */\n\n\n  refFromURL(url) {\n    // TODO don't think this is correct?\n    return new StorageRef(this, `url::${url}`);\n  }\n  /**\n   * setMaxOperationRetryTime\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Storage#setMaxOperationRetryTime\n   * @param time The new maximum operation retry time in milliseconds.\n   */\n\n\n  setMaxOperationRetryTime(time) {\n    getNativeModule(this).setMaxOperationRetryTime(time);\n  }\n  /**\n   * setMaxUploadRetryTime\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Storage#setMaxUploadRetryTime\n   * @param time The new maximum upload retry time in milliseconds.\n   */\n\n\n  setMaxUploadRetryTime(time) {\n    getNativeModule(this).setMaxUploadRetryTime(time);\n  }\n  /**\n   * setMaxDownloadRetryTime\n   * @url N/A\n   * @param time The new maximum download retry time in milliseconds.\n   */\n\n\n  setMaxDownloadRetryTime(time) {\n    getNativeModule(this).setMaxDownloadRetryTime(time);\n  }\n  /**\n   * INTERNALS\n   */\n\n\n  _getSubEventName(path, eventName) {\n    return getAppEventName(this, `${path}-${eventName}`);\n  }\n\n  _handleStorageEvent(event) {\n    const {\n      path,\n      eventName\n    } = event;\n    const body = event.body || {};\n    getLogger(this).debug('_handleStorageEvent: ', path, eventName, body);\n    SharedEventEmitter.emit(this._getSubEventName(path, eventName), body);\n  }\n\n  _handleStorageError(err) {\n    const {\n      path,\n      eventName\n    } = err;\n    const body = err.body || {};\n    getLogger(this).debug('_handleStorageError ->', err);\n    SharedEventEmitter.emit(this._getSubEventName(path, eventName), body);\n  }\n\n  _addListener(path, eventName, cb) {\n    SharedEventEmitter.addListener(this._getSubEventName(path, eventName), cb);\n  }\n\n  _removeListener(path, eventName, origCB) {\n    SharedEventEmitter.removeListener(this._getSubEventName(path, eventName), origCB);\n  }\n\n}\nexport const statics = {\n  TaskEvent: {\n    STATE_CHANGED: 'state_changed'\n  },\n  TaskState: {\n    RUNNING: 'running',\n    PAUSED: 'paused',\n    SUCCESS: 'success',\n    CANCELLED: 'cancelled',\n    ERROR: 'error'\n  },\n  Native: FirebaseStorage ? {\n    MAIN_BUNDLE_PATH: stripTrailingSlash(FirebaseStorage.MAIN_BUNDLE_PATH),\n    CACHES_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.CACHES_DIRECTORY_PATH),\n    DOCUMENT_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.DOCUMENT_DIRECTORY_PATH),\n    EXTERNAL_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.EXTERNAL_DIRECTORY_PATH),\n    EXTERNAL_STORAGE_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.EXTERNAL_STORAGE_DIRECTORY_PATH),\n    TEMP_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.TEMP_DIRECTORY_PATH),\n    LIBRARY_DIRECTORY_PATH: stripTrailingSlash(FirebaseStorage.LIBRARY_DIRECTORY_PATH),\n    FILETYPE_REGULAR: stripTrailingSlash(FirebaseStorage.FILETYPE_REGULAR),\n    FILETYPE_DIRECTORY: stripTrailingSlash(FirebaseStorage.FILETYPE_DIRECTORY)\n  } : {}\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}