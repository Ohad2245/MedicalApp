{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport { WebView } from 'react-native-webview';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction PaymentScreen() {\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      response = _useState2[0],\n      setResponse = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      makePayment = _useState4[0],\n      setMakePayment = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      paymentStatus = _useState6[0],\n      setPaymentStatus = _useState6[1];\n\n  var htmlContent = \"\\n    \\n    <!DOCTYPE html>\\n<html lang=\\\"en\\\">\\n<head>\\n    <meta charset=\\\"UTF-8\\\">\\n    <meta name=\\\"viewport\\\" content=\\\"width=device-width, initial-scale=1.0\\\">\\n    <title>Payment Page</title>\\n    <link rel=\\\"stylesheet\\\" href=\\\"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\\\" integrity=\\\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\\\" crossorigin=\\\"anonymous\\\">\\n    <script src=\\\"https://js.stripe.com/v3/\\\"></script>\\n    <style>\\n    \\n    .card-holder{\\n        display: flex;\\n        flex-direction: column;\\n        height: 200px;\\n        justify-content: space-around;\\n        background-color: #3D097F;\\n        border-radius: 20px;\\n        padding: 10px;\\n        padding-top: 20px;\\n        padding-bottom: 20px;\\n        margin-top: 50px;\\n        margin-bottom: 50px;\\n    }\\n    .card-element{\\n        height: 100px;\\n        display: flex;\\n        flex-direction: column;\\n        justify-content: space-around;\\n    }\\n    .card-name{\\n        padding: 20;\\n        color: '#FFF';\\n        font-weight: 500;\\n        font-size: '25px';\\n        background-color: transparent;\\n        border: none;\\n    \\n    }\\n    input {\\n        outline:none;\\n        color: #FFF;\\n        font-size: '25px';\\n        font-weight: 500;\\n        background-color: transparent;\\n        }\\n        \\n        .row{\\n            margin-top: '50px';\\n            display: flex;\\n            flex-direction: row;\\n            justify-content: center;\\n            align-items: center;\\n        }\\n        .products-info{\\n            \\n            height: 150px;\\n            width: 100%;\\n            padding: 20px;\\n            text-align: center;\\n        }\\n        .card-errors{\\n            color: red;\\n        }\\n        .pay-btn{\\n            display: flex;\\n            height: 50px;\\n            justify-content: center;\\n            align-items: center;\\n        }\\n    \\n    </style>\\n\\n</head>\\n<body>\\n    \\n    <!-- product info -->\\n    <div class=\\\"container-fluid\\\">\\n        <div class=\\\"row\\\">\\n            <div class=\\\"products-info\\\">\\n                Product Info: \" + product + \"\\n                Amount: \" + amount + \"\\n            </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n            <label class=\\\"card-errors\\\" id=\\\"card-errors\\\"></label>\\n        </div>\\n\\n            <form>\\n                <div class=\\\"card-holder\\\">\\n                        <input type=\\\"text\\\" placeholder=\\\"Card Holder Name\\\" id=\\\"card-name\\\" class=\\\"card-name\\\" />\\n                        <div id=\\\"card-element\\\" class=\\\"card-element\\\">\\n                            <div class=\\\"form-group\\\">\\n                                <label for=\\\"card_number\\\">Carn Number</label>\\n                                <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"card_number\\\" data-stripe=\\\"number\\\">\\n                            </div>\\n                            <div class=\\\"form-row\\\">\\n                                <label>\\n                                    <span>Card number</span>\\n                                    <input type=\\\"text\\\" size=\\\"20\\\" data-stripe=\\\"number\\\">\\n                                </label>\\n                            </div> \\n                        \\n                            <div class=\\\"form-row\\\">\\n                            <label>\\n                                <span>Expiration (MM/YY)</span>\\n                                <input type=\\\"text\\\" size=\\\"2\\\" data-stripe=\\\"exp_month\\\">\\n                            </label>\\n                            <span> / </span>\\n                            <input type=\\\"text\\\" size=\\\"2\\\" data-stripe=\\\"exp_year\\\">\\n                            </div>\\n                        \\n                            <div class=\\\"form-row\\\">\\n                            <label>\\n                                <span>CVC</span>\\n                                <input type=\\\"text\\\" size=\\\"4\\\" data-stripe=\\\"cvc\\\">\\n                            </label>\\n                            </div>\\n                        \\n                            <div class=\\\"form-row\\\">\\n                            <label>\\n                                <span>Billing Zip</span>\\n                                <input type=\\\"hidden\\\" size=\\\"6\\\" data-stripe=\\\"address_zip\\\" value=\\\"400012\\\">\\n                            </label>\\n                            </div>\\n                        \\n                            \\n                        </div>\\n                    </div>\\n                \\n                    <div class=\\\"pay-btn\\\">\\n                        <input type=\\\"submit\\\" class=\\\"btn btn-info btn-lg\\\" value=\\\"Pay Now\\\" />\\n                    </div>\\n    \\n            </form>\\n\\n        \\n    </div>\\n    \\n    <script>\\n        var stripe = Stripe('\" + STRIPE_PK + \"');\\n        var elements = stripe.elements();\\n\\n\\n            var card = elements.create(\\\"card\\\", {\\n                hidePostalCode: true,\\n                style: {\\n                    base: {\\n                    color: '#FFF',\\n                    fontWeight: 500,\\n                    fontFamily: 'Source Code Pro, Consolas, Menlo, monospace',\\n                    fontSize: '20px',\\n                    fontSmoothing: 'antialiased',\\n                    '::placeholder': {\\n                        color: '#664385',\\n                    },\\n                    ':-webkit-autofill': {\\n                        color: '#e39f48',\\n                    },\\n                },\\n                invalid: {\\n                    color: '#FC011F',\\n                    '::placeholder': {\\n                        color: '#FFCCA5',\\n                    },\\n                },\\n                }\\n            });\\n            // Add an instance of the card Element into the 'card-element' <div>.\\n            card.mount('#card-element');\\n            /**\\n             * Error Handling\\n             */\\n            //show card error if entered Invalid Card Number\\n            function showCardError(error){\\n                document.getElementById('card-errors').innerHTML = \\\"\\\"\\n                if(error){\\n                    document.getElementById('card-errors').innerHTML = error\\n                } \\n            }\\n            \\n            card.on('change', function(event) {\\n                if (event.complete) {\\n                    showCardError()\\n                    // enable payment button\\n                } else if (event.error) {\\n                    const { message} = event.error\\n                    console.log(message)\\n                    showCardError(message)\\n                }\\n            });\\n            \\n            card.mount('#card-element');\\n            \\n            /**\\n             * Payment Request Element\\n             */\\n            var paymentRequest = stripe.paymentRequest({\\n                country: \\\"IN\\\",\\n                currency: \\\"inr\\\",\\n                total: {\\n                    amount: \" + amount * 100 + \",\\n                    label: \\\"Total\\\"\\n                }\\n            });\\n            var form =  document.querySelector('form');\\n            form.addEventListener('submit', function(e) {\\n                e.preventDefault();\\n\\n                var additionalData = {\\n                    name: document.getElementById('card-name').value,\\n                    address_line1: undefined,\\n                    address_city:  undefined,\\n                    address_state: undefined,\\n                    address_zip: undefined,\\n                };\\n\\n                stripe.createToken(card, additionalData).then(function(result) {\\n                \\n                console.log(result);\\n                if (result.token) {\\n                    window.postMessage(JSON.stringify(result));\\n                } else {\\n                    window.postMessage(JSON.stringify(result));\\n                }\\n            });\\n            })\\n    </script>\\n</body>\\n</html>\\n\";\n  return _jsx(WebView, {\n    javaScriptEnabled: true,\n    style: {\n      flex: 1\n    },\n    originWhitelist: ['*'],\n    source: {\n      html: htmlContent\n    },\n    injectedJavaScript: injectedJavaScript,\n    onMessage: onMessage\n  });\n}\n\nexport default PaymentScreen;","map":{"version":3,"names":["React","useState","WebView","PaymentScreen","response","setResponse","makePayment","setMakePayment","paymentStatus","setPaymentStatus","htmlContent","product","amount","STRIPE_PK","flex","html","injectedJavaScript","onMessage"],"sources":["C:/Users/PC/Desktop/All/StoreApp2/my-app/screens/PaymentScreen.js"],"sourcesContent":["import React ,{useState} from 'react'\r\nimport {WebView} from 'react-native-webview';\r\n\r\nfunction PaymentScreen() {\r\n    const [response,setResponse] = useState();\r\n\r\n    const [makePayment,setMakePayment] = useState(false);\r\n    const [paymentStatus,setPaymentStatus] = useState('');\r\n\r\n    const htmlContent = `\r\n    \r\n    <!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Payment Page</title>\r\n    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css\" integrity=\"sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh\" crossorigin=\"anonymous\">\r\n    <script src=\"https://js.stripe.com/v3/\"></script>\r\n    <style>\r\n    \r\n    .card-holder{\r\n        display: flex;\r\n        flex-direction: column;\r\n        height: 200px;\r\n        justify-content: space-around;\r\n        background-color: #3D097F;\r\n        border-radius: 20px;\r\n        padding: 10px;\r\n        padding-top: 20px;\r\n        padding-bottom: 20px;\r\n        margin-top: 50px;\r\n        margin-bottom: 50px;\r\n    }\r\n    .card-element{\r\n        height: 100px;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-around;\r\n    }\r\n    .card-name{\r\n        padding: 20;\r\n        color: '#FFF';\r\n        font-weight: 500;\r\n        font-size: '25px';\r\n        background-color: transparent;\r\n        border: none;\r\n    \r\n    }\r\n    input {\r\n        outline:none;\r\n        color: #FFF;\r\n        font-size: '25px';\r\n        font-weight: 500;\r\n        background-color: transparent;\r\n        }\r\n        \r\n        .row{\r\n            margin-top: '50px';\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n        .products-info{\r\n            \r\n            height: 150px;\r\n            width: 100%;\r\n            padding: 20px;\r\n            text-align: center;\r\n        }\r\n        .card-errors{\r\n            color: red;\r\n        }\r\n        .pay-btn{\r\n            display: flex;\r\n            height: 50px;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n    \r\n    </style>\r\n\r\n</head>\r\n<body>\r\n    \r\n    <!-- product info -->\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"products-info\">\r\n                Product Info: ${product}\r\n                Amount: ${amount}\r\n            </div>\r\n        </div>\r\n        <div class=\"row\">\r\n            <label class=\"card-errors\" id=\"card-errors\"></label>\r\n        </div>\r\n\r\n            <form>\r\n                <div class=\"card-holder\">\r\n                        <input type=\"text\" placeholder=\"Card Holder Name\" id=\"card-name\" class=\"card-name\" />\r\n                        <div id=\"card-element\" class=\"card-element\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"card_number\">Carn Number</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"card_number\" data-stripe=\"number\">\r\n                            </div>\r\n                            <div class=\"form-row\">\r\n                                <label>\r\n                                    <span>Card number</span>\r\n                                    <input type=\"text\" size=\"20\" data-stripe=\"number\">\r\n                                </label>\r\n                            </div> \r\n                        \r\n                            <div class=\"form-row\">\r\n                            <label>\r\n                                <span>Expiration (MM/YY)</span>\r\n                                <input type=\"text\" size=\"2\" data-stripe=\"exp_month\">\r\n                            </label>\r\n                            <span> / </span>\r\n                            <input type=\"text\" size=\"2\" data-stripe=\"exp_year\">\r\n                            </div>\r\n                        \r\n                            <div class=\"form-row\">\r\n                            <label>\r\n                                <span>CVC</span>\r\n                                <input type=\"text\" size=\"4\" data-stripe=\"cvc\">\r\n                            </label>\r\n                            </div>\r\n                        \r\n                            <div class=\"form-row\">\r\n                            <label>\r\n                                <span>Billing Zip</span>\r\n                                <input type=\"hidden\" size=\"6\" data-stripe=\"address_zip\" value=\"400012\">\r\n                            </label>\r\n                            </div>\r\n                        \r\n                            \r\n                        </div>\r\n                    </div>\r\n                \r\n                    <div class=\"pay-btn\">\r\n                        <input type=\"submit\" class=\"btn btn-info btn-lg\" value=\"Pay Now\" />\r\n                    </div>\r\n    \r\n            </form>\r\n\r\n        \r\n    </div>\r\n    \r\n    <script>\r\n        var stripe = Stripe('${STRIPE_PK}');\r\n        var elements = stripe.elements();\r\n\r\n\r\n            var card = elements.create(\"card\", {\r\n                hidePostalCode: true,\r\n                style: {\r\n                    base: {\r\n                    color: '#FFF',\r\n                    fontWeight: 500,\r\n                    fontFamily: 'Source Code Pro, Consolas, Menlo, monospace',\r\n                    fontSize: '20px',\r\n                    fontSmoothing: 'antialiased',\r\n                    '::placeholder': {\r\n                        color: '#664385',\r\n                    },\r\n                    ':-webkit-autofill': {\r\n                        color: '#e39f48',\r\n                    },\r\n                },\r\n                invalid: {\r\n                    color: '#FC011F',\r\n                    '::placeholder': {\r\n                        color: '#FFCCA5',\r\n                    },\r\n                },\r\n                }\r\n            });\r\n            // Add an instance of the card Element into the 'card-element' <div>.\r\n            card.mount('#card-element');\r\n            /**\r\n             * Error Handling\r\n             */\r\n            //show card error if entered Invalid Card Number\r\n            function showCardError(error){\r\n                document.getElementById('card-errors').innerHTML = \"\"\r\n                if(error){\r\n                    document.getElementById('card-errors').innerHTML = error\r\n                } \r\n            }\r\n            \r\n            card.on('change', function(event) {\r\n                if (event.complete) {\r\n                    showCardError()\r\n                    // enable payment button\r\n                } else if (event.error) {\r\n                    const { message} = event.error\r\n                    console.log(message)\r\n                    showCardError(message)\r\n                }\r\n            });\r\n            \r\n            card.mount('#card-element');\r\n            \r\n            /**\r\n             * Payment Request Element\r\n             */\r\n            var paymentRequest = stripe.paymentRequest({\r\n                country: \"IN\",\r\n                currency: \"inr\",\r\n                total: {\r\n                    amount: ${amount * 100},\r\n                    label: \"Total\"\r\n                }\r\n            });\r\n            var form =  document.querySelector('form');\r\n            form.addEventListener('submit', function(e) {\r\n                e.preventDefault();\r\n\r\n                var additionalData = {\r\n                    name: document.getElementById('card-name').value,\r\n                    address_line1: undefined,\r\n                    address_city:  undefined,\r\n                    address_state: undefined,\r\n                    address_zip: undefined,\r\n                };\r\n\r\n                stripe.createToken(card, additionalData).then(function(result) {\r\n                \r\n                console.log(result);\r\n                if (result.token) {\r\n                    window.postMessage(JSON.stringify(result));\r\n                } else {\r\n                    window.postMessage(JSON.stringify(result));\r\n                }\r\n            });\r\n            })\r\n    </script>\r\n</body>\r\n</html>\r\n`\r\n\r\n  return (\r\n    <WebView\r\n        javaScriptEnabled={true}\r\n        style={{flex:1}}\r\n        originWhitelist={['*']}\r\n        source={{html:htmlContent}}\r\n        injectedJavaScript={injectedJavaScript}\r\n        onMessage={onMessage}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PaymentScreen"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,OAAR,QAAsB,sBAAtB;;;AAEA,SAASC,aAAT,GAAyB;EACrB,gBAA+BF,QAAQ,EAAvC;EAAA;EAAA,IAAOG,QAAP;EAAA,IAAgBC,WAAhB;;EAEA,iBAAqCJ,QAAQ,CAAC,KAAD,CAA7C;EAAA;EAAA,IAAOK,WAAP;EAAA,IAAmBC,cAAnB;;EACA,iBAAyCN,QAAQ,CAAC,EAAD,CAAjD;EAAA;EAAA,IAAOO,aAAP;EAAA,IAAqBC,gBAArB;;EAEA,IAAMC,WAAW,mnEAiFWC,OAjFX,kCAkFKC,MAlFL,2jFA6IUC,SA7IV,4mEA0MSD,MAAM,GAAG,GA1MlB,48BAAjB;EAyOF,OACE,KAAC,OAAD;IACI,iBAAiB,EAAE,IADvB;IAEI,KAAK,EAAE;MAACE,IAAI,EAAC;IAAN,CAFX;IAGI,eAAe,EAAE,CAAC,GAAD,CAHrB;IAII,MAAM,EAAE;MAACC,IAAI,EAACL;IAAN,CAJZ;IAKI,kBAAkB,EAAEM,kBALxB;IAMI,SAAS,EAAEC;EANf,EADF;AAUD;;AAED,eAAed,aAAf"},"metadata":{},"sourceType":"module"}