{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport ToastAndroid from \"react-native-web/dist/exports/ToastAndroid\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { Items } from \"../database/Database\";\nimport { COLORS } from \"../assets/Style\";\nimport Entypo from \"@expo/vector-icons/Entypo\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport styles from \"../assets/Style\";\nimport bgImage2 from \"../assets/images/bgImage2.jpg\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar ProductInfo = function ProductInfo(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var productID = route.params.productID;\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      product = _useState2[0],\n      setProduct = _useState2[1];\n\n  var width = Dimensions.get('window').width;\n  var scrollX = new Animated.Value(0);\n  var position = Animated.divide(scrollX, width);\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function () {\n      getDataFromDB();\n    });\n    return unsubscribe;\n  }, [navigation]);\n\n  var getDataFromDB = function getDataFromDB() {\n    var index;\n    return _regeneratorRuntime.async(function getDataFromDB$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            index = 0;\n\n          case 1:\n            if (!(index < Items.length)) {\n              _context.next = 9;\n              break;\n            }\n\n            if (!(Items[index].id == productID)) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(setProduct(Items[index]));\n\n          case 5:\n            return _context.abrupt(\"return\");\n\n          case 6:\n            index++;\n            _context.next = 1;\n            break;\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var addToCart = function addToCart(id) {\n    var itemArray, array, _array;\n\n    return _regeneratorRuntime.async(function addToCart$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem('cartItems'));\n\n          case 2:\n            itemArray = _context2.sent;\n            itemArray = JSON.parse(itemArray);\n\n            if (!itemArray) {\n              _context2.next = 19;\n              break;\n            }\n\n            array = itemArray;\n            array.push(id);\n            _context2.prev = 7;\n            _context2.next = 10;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('cartItems', JSON.stringify(array)));\n\n          case 10:\n            ToastAndroid.show('Item Added Successfully to cart', ToastAndroid.SHORT);\n            navigation.navigate('Home');\n            _context2.next = 17;\n            break;\n\n          case 14:\n            _context2.prev = 14;\n            _context2.t0 = _context2[\"catch\"](7);\n            return _context2.abrupt(\"return\", _context2.t0);\n\n          case 17:\n            _context2.next = 31;\n            break;\n\n          case 19:\n            _array = [];\n\n            _array.push(id);\n\n            _context2.prev = 21;\n            _context2.next = 24;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('cartItems', JSON.stringify(_array)));\n\n          case 24:\n            ToastAndroid.show('Item Added Successfully to cart', ToastAndroid.SHORT);\n            navigation.navigate('Home');\n            _context2.next = 31;\n            break;\n\n          case 28:\n            _context2.prev = 28;\n            _context2.t1 = _context2[\"catch\"](21);\n            return _context2.abrupt(\"return\", _context2.t1);\n\n          case 31:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[7, 14], [21, 28]], Promise);\n  };\n\n  var renderProduct = function renderProduct(_ref2) {\n    var item = _ref2.item,\n        index = _ref2.index;\n    return _jsx(View, {\n      style: {\n        width: width,\n        height: 240,\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: _jsx(Image, {\n        source: item,\n        style: {\n          width: '100%',\n          height: '100%',\n          resizeMode: 'contain'\n        }\n      })\n    });\n  };\n\n  return _jsxs(ImageBackground, {\n    source: bgImage2,\n    style: styles.backGround,\n    style: {\n      width: '100%',\n      height: '100%',\n      backgroundColor: COLORS.white,\n      position: 'relative'\n    },\n    children: [_jsx(StatusBar, {\n      backgroundColor: COLORS.backgrondLight,\n      barStyle: \"dark-content\"\n    }), _jsxs(ScrollView, {\n      children: [_jsxs(View, {\n        style: {\n          width: '100%',\n          backgroundColor: COLORS.backgrondLight,\n          borderBottomRightRadius: 20,\n          borderBottomLeftRadius: 20,\n          position: 'relative',\n          justifyContent: 'center',\n          alignItems: 'center',\n          marginBottom: 4\n        },\n        children: [_jsx(View, {\n          style: {\n            width: '100%',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            paddingTop: 16,\n            paddingLeft: 16\n          },\n          children: _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.goBack('Home');\n            },\n            children: _jsx(Entypo, {\n              name: \"chevron-left\",\n              style: {\n                fontSize: 18,\n                color: COLORS.backgroundDark,\n                padding: 12,\n                backgroundColor: COLORS.white,\n                borderRadius: 10\n              }\n            })\n          })\n        }), _jsx(FlatList, {\n          data: product.productImageList ? product.productImageList : null,\n          horizontal: true,\n          renderItem: renderProduct,\n          showsHorizontalScrollIndicator: false,\n          decelerationRate: 0.8,\n          snapToInterval: width,\n          bounces: false,\n          onScroll: Animated.event([{\n            nativeEvent: {\n              contentOffset: {\n                x: scrollX\n              }\n            }\n          }], {\n            useNativeDriver: false\n          })\n        }), _jsx(View, {\n          style: {\n            width: '100%',\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'center',\n            marginBottom: 16,\n            marginTop: 32\n          },\n          children: product.productImageList ? product.productImageList.map(function (data, index) {\n            var opacity = position.interpolate({\n              inputRange: [index - 1, index, index + 1],\n              outputRange: [0.2, 1, 0.2],\n              extrapolate: 'clamp'\n            });\n            return _jsx(Animated.View, {\n              style: {\n                width: '16%',\n                height: 2.4,\n                backgroundColor: COLORS.black,\n                opacity: opacity,\n                marginHorizontal: 4,\n                borderRadius: 100\n              }\n            }, index);\n          }) : null\n        })]\n      }), _jsxs(View, {\n        style: {\n          paddingHorizontal: 16,\n          marginTop: 6\n        },\n        children: [_jsxs(View, {\n          style: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            marginVertical: 14\n          },\n          children: [_jsx(Entypo, {\n            name: \"shopping-cart\",\n            style: {\n              fontSize: 18,\n              color: COLORS.blue,\n              marginRight: 6\n            }\n          }), _jsx(Text, {\n            style: {\n              fontSize: 12,\n              color: COLORS.black\n            },\n            children: \"Shopping\"\n          })]\n        }), _jsxs(View, {\n          style: {\n            flexDirection: 'row',\n            marginVertical: 4,\n            alignItems: 'center',\n            justifyContent: 'space-between'\n          },\n          children: [_jsxs(Text, {\n            style: {\n              fontSize: 24,\n              fontWeight: '600',\n              letterSpacing: 0.5,\n              marginVertical: 4,\n              color: COLORS.black,\n              maxWidth: '84%'\n            },\n            children: [product.productName, '\\n', product.description]\n          }), _jsx(Ionicons, {\n            name: \"link-outline\",\n            style: {\n              fontSize: 24,\n              color: COLORS.blue,\n              backgroundColor: COLORS.blue + 10,\n              padding: 8,\n              borderRadius: 100\n            }\n          })]\n        }), _jsx(Text, {\n          style: {\n            fontSize: 12,\n            color: 'black',\n            fontWeight: '100',\n            letterSpacing: 1,\n            opacity: 0.5,\n            lineHeight: 20,\n            maxWidth: '85%',\n            maxHeight: 44,\n            marginBottom: 18\n          },\n          children: product.description\n        }), _jsxs(View, {\n          style: {\n            flexDirection: 'row',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            marginVertical: 14,\n            borderBottomColor: COLORS.backgrondLight,\n            borderBottomWidth: 1,\n            paddingBottom: 20\n          },\n          children: [_jsxs(View, {\n            style: {\n              flexDirection: 'row',\n              width: '80%',\n              alignItems: 'center'\n            },\n            children: [_jsx(View, {\n              style: {\n                color: COLORS.blue,\n                backgroundColor: COLORS.backgrondLight,\n                alignItems: 'center',\n                justifyContent: 'center',\n                padding: 12,\n                borderRadius: 100,\n                marginRight: 10\n              },\n              children: _jsx(Entypo, {\n                name: \"location-pin\",\n                style: {\n                  fontSize: 16,\n                  color: COLORS.blue\n                }\n              })\n            }), _jsxs(Text, {\n              children: [\" Rustaveli Ave 57,\", '\\n', \"17-001, Batume\"]\n            })]\n          }), _jsx(Entypo, {\n            name: \"chevron-right\",\n            style: {\n              fontSize: 22,\n              color: COLORS.backgroundDark\n            }\n          })]\n        }), _jsxs(View, {\n          style: {\n            paddingHorizontal: 16\n          },\n          children: [_jsxs(Text, {\n            style: {\n              fontSize: 18,\n              fontWeight: '500',\n              maxWidth: '85%',\n              color: COLORS.black,\n              marginBottom: 4\n            },\n            children: [product.productPrice, \".00$\"]\n          }), _jsxs(Text, {\n            children: [\"Tax Rate 2%~ = \", product.productPrice / 20, \"$\", '\\n', \"(\", product.productPrice + product.productPrice / 20, \"$)\"]\n          })]\n        })]\n      })]\n    }), _jsx(View, {\n      style: {\n        position: 'absolute',\n        bottom: 10,\n        height: '8%',\n        width: '100%',\n        justifyContent: 'center',\n        alignItems: 'center'\n      },\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          return product.isAvailable ? addToCart(product.id) : null;\n        },\n        style: {\n          width: '86%',\n          height: '90%',\n          backgroundColor: COLORS.blue,\n          borderRadius: 20,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 12,\n            fontWeight: '500',\n            letterSpacing: 1,\n            color: COLORS.white,\n            textTransform: 'uppercase'\n          },\n          children: product.isAvailable ? 'Add to cart' : 'Not Avialable'\n        })\n      })\n    })]\n  });\n};\n\nexport default ProductInfo;","map":{"version":3,"sources":["C:/Users/PC/Desktop/StoreApp2/my-app/screens/ProductInfo.js"],"names":["React","useState","useEffect","Items","COLORS","Entypo","Ionicons","AsyncStorage","styles","bgImage2","ProductInfo","route","navigation","productID","params","product","setProduct","width","Dimensions","get","scrollX","Animated","Value","position","divide","unsubscribe","addListener","getDataFromDB","index","length","id","addToCart","getItem","itemArray","JSON","parse","array","push","setItem","stringify","ToastAndroid","show","SHORT","navigate","renderProduct","item","height","alignItems","justifyContent","resizeMode","backGround","backgroundColor","white","backgrondLight","borderBottomRightRadius","borderBottomLeftRadius","marginBottom","flexDirection","paddingTop","paddingLeft","goBack","fontSize","color","backgroundDark","padding","borderRadius","productImageList","event","nativeEvent","contentOffset","x","useNativeDriver","marginTop","map","data","opacity","interpolate","inputRange","outputRange","extrapolate","black","marginHorizontal","paddingHorizontal","marginVertical","blue","marginRight","fontWeight","letterSpacing","maxWidth","productName","description","lineHeight","maxHeight","borderBottomColor","borderBottomWidth","paddingBottom","productPrice","bottom","isAvailable","textTransform"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;;;;;;;;;;;AAcA,SAASC,KAAT;AACA,SAASC,MAAT;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP;AACA,OAAOC,YAAP,MAAyB,2CAAzB;AACA,OAAOC,MAAP;AACA,OAAOC,QAAP;;;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,OAAyB;AAAA,MAAvBC,KAAuB,QAAvBA,KAAuB;AAAA,MAAhBC,UAAgB,QAAhBA,UAAgB;AAC3C,MAAOC,SAAP,GAAoBF,KAAK,CAACG,MAA1B,CAAOD,SAAP;;AAEA,kBAA8BZ,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOc,OAAP;AAAA,MAAgBC,UAAhB;;AAEA,MAAMC,KAAK,GAAGC,UAAU,CAACC,GAAX,CAAe,QAAf,EAAyBF,KAAvC;AAEA,MAAMG,OAAO,GAAG,IAAIC,QAAQ,CAACC,KAAb,CAAmB,CAAnB,CAAhB;AAEA,MAAIC,QAAQ,GAAGF,QAAQ,CAACG,MAAT,CAAgBJ,OAAhB,EAAyBH,KAAzB,CAAf;AAEAf,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMuB,WAAW,GAAGb,UAAU,CAACc,WAAX,CAAuB,OAAvB,EAAgC,YAAM;AACxDC,MAAAA,aAAa;AACd,KAFmB,CAApB;AAIA,WAAOF,WAAP;AACD,GANQ,EAMN,CAACb,UAAD,CANM,CAAT;;AAUA,MAAMe,aAAa,GAAG,SAAhBA,aAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AACXC,YAAAA,KADW,GACH,CADG;;AAAA;AAAA,kBACAA,KAAK,GAAGzB,KAAK,CAAC0B,MADd;AAAA;AAAA;AAAA;;AAAA,kBAEd1B,KAAK,CAACyB,KAAD,CAAL,CAAaE,EAAb,IAAmBjB,SAFL;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAGVG,UAAU,CAACb,KAAK,CAACyB,KAAD,CAAN,CAHA;;AAAA;AAAA;;AAAA;AACsBA,YAAAA,KAAK,EAD3B;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAWA,MAAMG,SAAS,GAAG,SAAZA,SAAY,CAAMD,EAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CACMvB,YAAY,CAACyB,OAAb,CAAqB,WAArB,CADN;;AAAA;AACZC,YAAAA,SADY;AAEhBA,YAAAA,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWF,SAAX,CAAZ;;AAFgB,iBAGZA,SAHY;AAAA;AAAA;AAAA;;AAIVG,YAAAA,KAJU,GAIFH,SAJE;AAKdG,YAAAA,KAAK,CAACC,IAAN,CAAWP,EAAX;AALc;AAAA;AAAA,6CAQNvB,YAAY,CAAC+B,OAAb,CAAqB,WAArB,EAAkCJ,IAAI,CAACK,SAAL,CAAeH,KAAf,CAAlC,CARM;;AAAA;AASZI,YAAAA,YAAY,CAACC,IAAb,CACE,iCADF,EAEED,YAAY,CAACE,KAFf;AAIA9B,YAAAA,UAAU,CAAC+B,QAAX,CAAoB,MAApB;AAbY;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAkBVP,YAAAA,MAlBU,GAkBF,EAlBE;;AAmBdA,YAAAA,MAAK,CAACC,IAAN,CAAWP,EAAX;;AAnBc;AAAA;AAAA,6CAqBNvB,YAAY,CAAC+B,OAAb,CAAqB,WAArB,EAAkCJ,IAAI,CAACK,SAAL,CAAeH,MAAf,CAAlC,CArBM;;AAAA;AAsBZI,YAAAA,YAAY,CAACC,IAAb,CACE,iCADF,EAEED,YAAY,CAACE,KAFf;AAIA9B,YAAAA,UAAU,CAAC+B,QAAX,CAAoB,MAApB;AA1BY;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAkCA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,QAAmB;AAAA,QAAjBC,IAAiB,SAAjBA,IAAiB;AAAA,QAAXjB,KAAW,SAAXA,KAAW;AACvC,WACE,KAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLX,QAAAA,KAAK,EAAEA,KADF;AAEL6B,QAAAA,MAAM,EAAE,GAFH;AAGLC,QAAAA,UAAU,EAAE,QAHP;AAILC,QAAAA,cAAc,EAAE;AAJX,OADT;AAAA,gBAOE,KAAC,KAAD;AACE,QAAA,MAAM,EAAEH,IADV;AAEE,QAAA,KAAK,EAAE;AACL5B,UAAAA,KAAK,EAAE,MADF;AAEL6B,UAAAA,MAAM,EAAE,MAFH;AAGLG,UAAAA,UAAU,EAAE;AAHP;AAFT;AAPF,MADF;AAkBD,GAnBD;;AAqBA,SACE,MAAC,eAAD;AAAiB,IAAA,MAAM,EAAExC,QAAzB;AAAmC,IAAA,KAAK,EAAED,MAAM,CAAC0C,UAAjD;AACE,IAAA,KAAK,EAAE;AACLjC,MAAAA,KAAK,EAAE,MADF;AAEL6B,MAAAA,MAAM,EAAE,MAFH;AAGLK,MAAAA,eAAe,EAAE/C,MAAM,CAACgD,KAHnB;AAIL7B,MAAAA,QAAQ,EAAE;AAJL,KADT;AAAA,eAOE,KAAC,SAAD;AACE,MAAA,eAAe,EAAEnB,MAAM,CAACiD,cAD1B;AAEE,MAAA,QAAQ,EAAC;AAFX,MAPF,EAWE,MAAC,UAAD;AAAA,iBACE,MAAC,IAAD;AACE,QAAA,KAAK,EAAE;AACLpC,UAAAA,KAAK,EAAE,MADF;AAELkC,UAAAA,eAAe,EAAE/C,MAAM,CAACiD,cAFnB;AAGLC,UAAAA,uBAAuB,EAAE,EAHpB;AAILC,UAAAA,sBAAsB,EAAE,EAJnB;AAKLhC,UAAAA,QAAQ,EAAE,UALL;AAMLyB,UAAAA,cAAc,EAAE,QANX;AAOLD,UAAAA,UAAU,EAAE,QAPP;AAQLS,UAAAA,YAAY,EAAE;AART,SADT;AAAA,mBAWE,KAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLvC,YAAAA,KAAK,EAAE,MADF;AAELwC,YAAAA,aAAa,EAAE,KAFV;AAGLT,YAAAA,cAAc,EAAE,eAHX;AAILU,YAAAA,UAAU,EAAE,EAJP;AAKLC,YAAAA,WAAW,EAAE;AALR,WADT;AAAA,oBAQE,KAAC,gBAAD;AAAkB,YAAA,OAAO,EAAE;AAAA,qBAAM/C,UAAU,CAACgD,MAAX,CAAkB,MAAlB,CAAN;AAAA,aAA3B;AAAA,sBACE,KAAC,MAAD;AACE,cAAA,IAAI,EAAC,cADP;AAEE,cAAA,KAAK,EAAE;AACLC,gBAAAA,QAAQ,EAAE,EADL;AAELC,gBAAAA,KAAK,EAAE1D,MAAM,CAAC2D,cAFT;AAGLC,gBAAAA,OAAO,EAAE,EAHJ;AAILb,gBAAAA,eAAe,EAAE/C,MAAM,CAACgD,KAJnB;AAKLa,gBAAAA,YAAY,EAAE;AALT;AAFT;AADF;AARF,UAXF,EAgCE,KAAC,QAAD;AACE,UAAA,IAAI,EAAElD,OAAO,CAACmD,gBAAR,GAA2BnD,OAAO,CAACmD,gBAAnC,GAAsD,IAD9D;AAEE,UAAA,UAAU,MAFZ;AAGE,UAAA,UAAU,EAAEtB,aAHd;AAIE,UAAA,8BAA8B,EAAE,KAJlC;AAKE,UAAA,gBAAgB,EAAE,GALpB;AAME,UAAA,cAAc,EAAE3B,KANlB;AAOE,UAAA,OAAO,EAAE,KAPX;AAQE,UAAA,QAAQ,EAAEI,QAAQ,CAAC8C,KAAT,CACR,CAAC;AAACC,YAAAA,WAAW,EAAE;AAACC,cAAAA,aAAa,EAAE;AAACC,gBAAAA,CAAC,EAAElD;AAAJ;AAAhB;AAAd,WAAD,CADQ,EAER;AAACmD,YAAAA,eAAe,EAAE;AAAlB,WAFQ;AARZ,UAhCF,EA6CE,KAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLtD,YAAAA,KAAK,EAAE,MADF;AAELwC,YAAAA,aAAa,EAAE,KAFV;AAGLV,YAAAA,UAAU,EAAE,QAHP;AAILC,YAAAA,cAAc,EAAE,QAJX;AAKLQ,YAAAA,YAAY,EAAE,EALT;AAMLgB,YAAAA,SAAS,EAAE;AANN,WADT;AAAA,oBASGzD,OAAO,CAACmD,gBAAR,GACGnD,OAAO,CAACmD,gBAAR,CAAyBO,GAAzB,CAA6B,UAACC,IAAD,EAAO9C,KAAP,EAAiB;AAC5C,gBAAI+C,OAAO,GAAGpD,QAAQ,CAACqD,WAAT,CAAqB;AACjCC,cAAAA,UAAU,EAAE,CAACjD,KAAK,GAAG,CAAT,EAAYA,KAAZ,EAAmBA,KAAK,GAAG,CAA3B,CADqB;AAEjCkD,cAAAA,WAAW,EAAE,CAAC,GAAD,EAAM,CAAN,EAAS,GAAT,CAFoB;AAGjCC,cAAAA,WAAW,EAAE;AAHoB,aAArB,CAAd;AAKA,mBACE,KAAC,QAAD,CAAU,IAAV;AAEE,cAAA,KAAK,EAAE;AACL9D,gBAAAA,KAAK,EAAE,KADF;AAEL6B,gBAAAA,MAAM,EAAE,GAFH;AAGLK,gBAAAA,eAAe,EAAE/C,MAAM,CAAC4E,KAHnB;AAILL,gBAAAA,OAAO,EAAPA,OAJK;AAKLM,gBAAAA,gBAAgB,EAAE,CALb;AAMLhB,gBAAAA,YAAY,EAAE;AANT;AAFT,eACOrC,KADP,CADF;AAYD,WAlBD,CADH,GAoBG;AA7BN,UA7CF;AAAA,QADF,EA8EE,MAAC,IAAD;AACE,QAAA,KAAK,EAAE;AACLsD,UAAAA,iBAAiB,EAAE,EADd;AAELV,UAAAA,SAAS,EAAE;AAFN,SADT;AAAA,mBAKE,MAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLf,YAAAA,aAAa,EAAE,KADV;AAELV,YAAAA,UAAU,EAAE,QAFP;AAGLoC,YAAAA,cAAc,EAAE;AAHX,WADT;AAAA,qBAME,KAAC,MAAD;AACE,YAAA,IAAI,EAAC,eADP;AAEE,YAAA,KAAK,EAAE;AACLtB,cAAAA,QAAQ,EAAE,EADL;AAELC,cAAAA,KAAK,EAAE1D,MAAM,CAACgF,IAFT;AAGLC,cAAAA,WAAW,EAAE;AAHR;AAFT,YANF,EAcE,KAAC,IAAD;AACE,YAAA,KAAK,EAAE;AACLxB,cAAAA,QAAQ,EAAE,EADL;AAELC,cAAAA,KAAK,EAAE1D,MAAM,CAAC4E;AAFT,aADT;AAAA;AAAA,YAdF;AAAA,UALF,EA2BE,MAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLvB,YAAAA,aAAa,EAAE,KADV;AAEL0B,YAAAA,cAAc,EAAE,CAFX;AAGLpC,YAAAA,UAAU,EAAE,QAHP;AAILC,YAAAA,cAAc,EAAE;AAJX,WADT;AAAA,qBAOE,MAAC,IAAD;AACE,YAAA,KAAK,EAAE;AACLa,cAAAA,QAAQ,EAAE,EADL;AAELyB,cAAAA,UAAU,EAAE,KAFP;AAGLC,cAAAA,aAAa,EAAE,GAHV;AAILJ,cAAAA,cAAc,EAAE,CAJX;AAKLrB,cAAAA,KAAK,EAAE1D,MAAM,CAAC4E,KALT;AAMLQ,cAAAA,QAAQ,EAAE;AANL,aADT;AAAA,uBASGzE,OAAO,CAAC0E,WATX,EAUG,IAVH,EAWG1E,OAAO,CAAC2E,WAXX;AAAA,YAPF,EAoBE,KAAC,QAAD;AACE,YAAA,IAAI,EAAC,cADP;AAEE,YAAA,KAAK,EAAE;AACL7B,cAAAA,QAAQ,EAAE,EADL;AAELC,cAAAA,KAAK,EAAE1D,MAAM,CAACgF,IAFT;AAGLjC,cAAAA,eAAe,EAAE/C,MAAM,CAACgF,IAAP,GAAc,EAH1B;AAILpB,cAAAA,OAAO,EAAE,CAJJ;AAKLC,cAAAA,YAAY,EAAE;AALT;AAFT,YApBF;AAAA,UA3BF,EA0DE,KAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLJ,YAAAA,QAAQ,EAAE,EADL;AAELC,YAAAA,KAAK,EAAE,OAFF;AAGLwB,YAAAA,UAAU,EAAE,KAHP;AAILC,YAAAA,aAAa,EAAE,CAJV;AAKLZ,YAAAA,OAAO,EAAE,GALJ;AAMLgB,YAAAA,UAAU,EAAE,EANP;AAOLH,YAAAA,QAAQ,EAAE,KAPL;AAQLI,YAAAA,SAAS,EAAE,EARN;AASLpC,YAAAA,YAAY,EAAE;AATT,WADT;AAAA,oBAYGzC,OAAO,CAAC2E;AAZX,UA1DF,EAwEE,MAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLjC,YAAAA,aAAa,EAAE,KADV;AAELV,YAAAA,UAAU,EAAE,QAFP;AAGLC,YAAAA,cAAc,EAAE,eAHX;AAILmC,YAAAA,cAAc,EAAE,EAJX;AAKLU,YAAAA,iBAAiB,EAAEzF,MAAM,CAACiD,cALrB;AAMLyC,YAAAA,iBAAiB,EAAE,CANd;AAOLC,YAAAA,aAAa,EAAE;AAPV,WADT;AAAA,qBAUE,MAAC,IAAD;AACE,YAAA,KAAK,EAAE;AACLtC,cAAAA,aAAa,EAAE,KADV;AAELxC,cAAAA,KAAK,EAAE,KAFF;AAGL8B,cAAAA,UAAU,EAAE;AAHP,aADT;AAAA,uBAME,KAAC,IAAD;AACE,cAAA,KAAK,EAAE;AACLe,gBAAAA,KAAK,EAAE1D,MAAM,CAACgF,IADT;AAELjC,gBAAAA,eAAe,EAAE/C,MAAM,CAACiD,cAFnB;AAGLN,gBAAAA,UAAU,EAAE,QAHP;AAILC,gBAAAA,cAAc,EAAE,QAJX;AAKLgB,gBAAAA,OAAO,EAAE,EALJ;AAMLC,gBAAAA,YAAY,EAAE,GANT;AAOLoB,gBAAAA,WAAW,EAAE;AAPR,eADT;AAAA,wBAUE,KAAC,MAAD;AACE,gBAAA,IAAI,EAAC,cADP;AAEE,gBAAA,KAAK,EAAE;AACLxB,kBAAAA,QAAQ,EAAE,EADL;AAELC,kBAAAA,KAAK,EAAE1D,MAAM,CAACgF;AAFT;AAFT;AAVF,cANF,EAwBE,MAAC,IAAD;AAAA,+CAAyB,IAAzB;AAAA,cAxBF;AAAA,YAVF,EAoCE,KAAC,MAAD;AACE,YAAA,IAAI,EAAC,eADP;AAEE,YAAA,KAAK,EAAE;AACLvB,cAAAA,QAAQ,EAAE,EADL;AAELC,cAAAA,KAAK,EAAE1D,MAAM,CAAC2D;AAFT;AAFT,YApCF;AAAA,UAxEF,EAoHE,MAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLmB,YAAAA,iBAAiB,EAAE;AADd,WADT;AAAA,qBAIE,MAAC,IAAD;AACE,YAAA,KAAK,EAAE;AACLrB,cAAAA,QAAQ,EAAE,EADL;AAELyB,cAAAA,UAAU,EAAE,KAFP;AAGLE,cAAAA,QAAQ,EAAE,KAHL;AAIL1B,cAAAA,KAAK,EAAE1D,MAAM,CAAC4E,KAJT;AAKLxB,cAAAA,YAAY,EAAE;AALT,aADT;AAAA,uBAQGzC,OAAO,CAACiF,YARX;AAAA,YAJF,EAcE,MAAC,IAAD;AAAA,0CACkBjF,OAAO,CAACiF,YAAR,GAAuB,EADzC,OAEG,IAFH,OAGIjF,OAAO,CAACiF,YAAR,GAAuBjF,OAAO,CAACiF,YAAR,GAAuB,EAHlD;AAAA,YAdF;AAAA,UApHF;AAAA,QA9EF;AAAA,MAXF,EAoOE,KAAC,IAAD;AACE,MAAA,KAAK,EAAE;AACLzE,QAAAA,QAAQ,EAAE,UADL;AAEL0E,QAAAA,MAAM,EAAE,EAFH;AAGLnD,QAAAA,MAAM,EAAE,IAHH;AAIL7B,QAAAA,KAAK,EAAE,MAJF;AAKL+B,QAAAA,cAAc,EAAE,QALX;AAMLD,QAAAA,UAAU,EAAE;AANP,OADT;AAAA,gBASE,KAAC,gBAAD;AACE,QAAA,OAAO,EAAE;AAAA,iBAAOhC,OAAO,CAACmF,WAAR,GAAsBnE,SAAS,CAAChB,OAAO,CAACe,EAAT,CAA/B,GAA8C,IAArD;AAAA,SADX;AAEE,QAAA,KAAK,EAAE;AACLb,UAAAA,KAAK,EAAE,KADF;AAEL6B,UAAAA,MAAM,EAAE,KAFH;AAGLK,UAAAA,eAAe,EAAE/C,MAAM,CAACgF,IAHnB;AAILnB,UAAAA,YAAY,EAAE,EAJT;AAKLjB,UAAAA,cAAc,EAAE,QALX;AAMLD,UAAAA,UAAU,EAAE;AANP,SAFT;AAAA,kBAUE,KAAC,IAAD;AACE,UAAA,KAAK,EAAE;AACLc,YAAAA,QAAQ,EAAE,EADL;AAELyB,YAAAA,UAAU,EAAE,KAFP;AAGLC,YAAAA,aAAa,EAAE,CAHV;AAILzB,YAAAA,KAAK,EAAE1D,MAAM,CAACgD,KAJT;AAKL+C,YAAAA,aAAa,EAAE;AALV,WADT;AAAA,oBAQGpF,OAAO,CAACmF,WAAR,GAAsB,aAAtB,GAAsC;AARzC;AAVF;AATF,MApOF;AAAA,IADF;AAsQD,CA7VD;;AA+VA,eAAexF,WAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StatusBar,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  FlatList,\r\n  Image,\r\n  Dimensions,\r\n  Animated,\r\n  ToastAndroid,\r\n  ImageBackground,\r\n} from 'react-native';\r\nimport { Items } from '../database/Database';\r\nimport { COLORS } from '../assets/Style';\r\nimport Entypo from 'react-native-vector-icons/Entypo';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport styles from '../assets/Style';\r\nimport bgImage2 from '../assets/images/bgImage2.jpg';\r\n\r\nconst ProductInfo = ({route, navigation}) => {\r\n  const {productID} = route.params;\r\n\r\n  const [product, setProduct] = useState({});\r\n\r\n  const width = Dimensions.get('window').width;\r\n\r\n  const scrollX = new Animated.Value(0);\r\n\r\n  let position = Animated.divide(scrollX, width);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = navigation.addListener('focus', () => {\r\n      getDataFromDB();\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [navigation]);\r\n\r\n  //get product data by productID\r\n\r\n  const getDataFromDB = async () => {\r\n    for (let index = 0; index < Items.length; index++) {\r\n      if (Items[index].id == productID) {\r\n        await setProduct(Items[index]);\r\n        return;\r\n      }\r\n    }\r\n  };\r\n\r\n  //add to cart\r\n\r\n  const addToCart = async id => {\r\n    let itemArray = await AsyncStorage.getItem('cartItems');\r\n    itemArray = JSON.parse(itemArray);\r\n    if (itemArray) {\r\n      let array = itemArray;\r\n      array.push(id);\r\n\r\n      try {\r\n        await AsyncStorage.setItem('cartItems', JSON.stringify(array));\r\n        ToastAndroid.show(\r\n          'Item Added Successfully to cart',\r\n          ToastAndroid.SHORT,\r\n        );\r\n        navigation.navigate('Home');\r\n      } catch (error) {\r\n        return error;\r\n      }\r\n    } else {\r\n      let array = [];\r\n      array.push(id);\r\n      try {\r\n        await AsyncStorage.setItem('cartItems', JSON.stringify(array));\r\n        ToastAndroid.show(\r\n          'Item Added Successfully to cart',\r\n          ToastAndroid.SHORT,\r\n        );\r\n        navigation.navigate('Home');\r\n      } catch (error) {\r\n        return error;\r\n      }\r\n    }\r\n  };\r\n\r\n  //product horizontal scroll product card\r\n  const renderProduct = ({item, index}) => {\r\n    return (\r\n      <View\r\n        style={{\r\n          width: width,\r\n          height: 240,\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n        }}>\r\n        <Image\r\n          source={item}\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            resizeMode: 'contain',\r\n          }}\r\n        />\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <ImageBackground source={bgImage2} style={styles.backGround}\r\n      style={{\r\n        width: '100%',\r\n        height: '100%',\r\n        backgroundColor: COLORS.white,\r\n        position: 'relative',\r\n      }}>\r\n      <StatusBar\r\n        backgroundColor={COLORS.backgrondLight}\r\n        barStyle=\"dark-content\"\r\n      />\r\n      <ScrollView>\r\n        <View\r\n          style={{\r\n            width: '100%',\r\n            backgroundColor: COLORS.backgrondLight,\r\n            borderBottomRightRadius: 20,\r\n            borderBottomLeftRadius: 20,\r\n            position: 'relative',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n            marginBottom: 4,\r\n          }}>\r\n          <View\r\n            style={{\r\n              width: '100%',\r\n              flexDirection: 'row',\r\n              justifyContent: 'space-between',\r\n              paddingTop: 16,\r\n              paddingLeft: 16,\r\n            }}>\r\n            <TouchableOpacity onPress={() => navigation.goBack('Home')}>\r\n              <Entypo\r\n                name=\"chevron-left\"\r\n                style={{\r\n                  fontSize: 18,\r\n                  color: COLORS.backgroundDark,\r\n                  padding: 12,\r\n                  backgroundColor: COLORS.white,\r\n                  borderRadius: 10,\r\n                }}\r\n              />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <FlatList\r\n            data={product.productImageList ? product.productImageList : null}\r\n            horizontal\r\n            renderItem={renderProduct}\r\n            showsHorizontalScrollIndicator={false}\r\n            decelerationRate={0.8}\r\n            snapToInterval={width}\r\n            bounces={false}\r\n            onScroll={Animated.event(\r\n              [{nativeEvent: {contentOffset: {x: scrollX}}}],\r\n              {useNativeDriver: false},\r\n            )}\r\n          />\r\n          <View\r\n            style={{\r\n              width: '100%',\r\n              flexDirection: 'row',\r\n              alignItems: 'center',\r\n              justifyContent: 'center',\r\n              marginBottom: 16,\r\n              marginTop: 32,\r\n            }}>\r\n            {product.productImageList\r\n              ? product.productImageList.map((data, index) => {\r\n                  let opacity = position.interpolate({\r\n                    inputRange: [index - 1, index, index + 1],\r\n                    outputRange: [0.2, 1, 0.2],\r\n                    extrapolate: 'clamp',\r\n                  });\r\n                  return (\r\n                    <Animated.View\r\n                      key={index}\r\n                      style={{\r\n                        width: '16%',\r\n                        height: 2.4,\r\n                        backgroundColor: COLORS.black,\r\n                        opacity,\r\n                        marginHorizontal: 4,\r\n                        borderRadius: 100,\r\n                      }}></Animated.View>\r\n                  );\r\n                })\r\n              : null}\r\n          </View>\r\n        </View>\r\n        <View\r\n          style={{\r\n            paddingHorizontal: 16,\r\n            marginTop: 6,\r\n          }}>\r\n          <View\r\n            style={{\r\n              flexDirection: 'row',\r\n              alignItems: 'center',\r\n              marginVertical: 14,\r\n            }}>\r\n            <Entypo\r\n              name=\"shopping-cart\"\r\n              style={{\r\n                fontSize: 18,\r\n                color: COLORS.blue,\r\n                marginRight: 6,\r\n              }}\r\n            />\r\n            <Text\r\n              style={{\r\n                fontSize: 12,\r\n                color: COLORS.black,\r\n              }}>\r\n              Shopping\r\n            </Text>\r\n          </View>\r\n          <View\r\n            style={{\r\n              flexDirection: 'row',\r\n              marginVertical: 4,\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n            }}>\r\n            <Text\r\n              style={{\r\n                fontSize: 24,\r\n                fontWeight: '600',\r\n                letterSpacing: 0.5,\r\n                marginVertical: 4,\r\n                color: COLORS.black,\r\n                maxWidth: '84%',\r\n              }}>\r\n              {product.productName}\r\n              {'\\n'}\r\n              {product.description}\r\n            </Text>\r\n            <Ionicons\r\n              name=\"link-outline\"\r\n              style={{\r\n                fontSize: 24,\r\n                color: COLORS.blue,\r\n                backgroundColor: COLORS.blue + 10,\r\n                padding: 8,\r\n                borderRadius: 100,\r\n              }}\r\n            />\r\n          </View>\r\n          <Text\r\n            style={{\r\n              fontSize: 12,\r\n              color: 'black',\r\n              fontWeight: '100',\r\n              letterSpacing: 1,\r\n              opacity: 0.5,\r\n              lineHeight: 20,\r\n              maxWidth: '85%',\r\n              maxHeight: 44,\r\n              marginBottom: 18,\r\n            }}>\r\n            {product.description}\r\n          </Text>\r\n          <View\r\n            style={{\r\n              flexDirection: 'row',\r\n              alignItems: 'center',\r\n              justifyContent: 'space-between',\r\n              marginVertical: 14,\r\n              borderBottomColor: COLORS.backgrondLight,\r\n              borderBottomWidth: 1,\r\n              paddingBottom: 20,\r\n            }}>\r\n            <View\r\n              style={{\r\n                flexDirection: 'row',\r\n                width: '80%',\r\n                alignItems: 'center',\r\n              }}>\r\n              <View\r\n                style={{\r\n                  color: COLORS.blue,\r\n                  backgroundColor: COLORS.backgrondLight,\r\n                  alignItems: 'center',\r\n                  justifyContent: 'center',\r\n                  padding: 12,\r\n                  borderRadius: 100,\r\n                  marginRight: 10,\r\n                }}>\r\n                <Entypo\r\n                  name=\"location-pin\"\r\n                  style={{\r\n                    fontSize: 16,\r\n                    color: COLORS.blue,\r\n                  }}\r\n                />\r\n              </View>\r\n              <Text> Rustaveli Ave 57,{'\\n'}17-001, Batume</Text>\r\n            </View>\r\n            <Entypo\r\n              name=\"chevron-right\"\r\n              style={{\r\n                fontSize: 22,\r\n                color: COLORS.backgroundDark,\r\n              }}\r\n            />\r\n          </View>\r\n          <View\r\n            style={{\r\n              paddingHorizontal: 16,\r\n            }}>\r\n            <Text\r\n              style={{\r\n                fontSize: 18,\r\n                fontWeight: '500',\r\n                maxWidth: '85%',\r\n                color: COLORS.black,\r\n                marginBottom: 4,\r\n              }}>\r\n              {product.productPrice}.00$\r\n            </Text>\r\n            <Text>\r\n              Tax Rate 2%~ = {product.productPrice / 20}$ \r\n              {'\\n'}\r\n              ({product.productPrice + product.productPrice / 20}$)\r\n            </Text>\r\n          </View>\r\n        </View>\r\n      </ScrollView>\r\n\r\n      <View\r\n        style={{\r\n          position: 'absolute',\r\n          bottom: 10,\r\n          height: '8%',\r\n          width: '100%',\r\n          justifyContent: 'center',\r\n          alignItems: 'center',\r\n        }}>\r\n        <TouchableOpacity\r\n          onPress={() => (product.isAvailable ? addToCart(product.id) : null)}\r\n          style={{\r\n            width: '86%',\r\n            height: '90%',\r\n            backgroundColor: COLORS.blue,\r\n            borderRadius: 20,\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n          }}>\r\n          <Text\r\n            style={{\r\n              fontSize: 12,\r\n              fontWeight: '500',\r\n              letterSpacing: 1,\r\n              color: COLORS.white,\r\n              textTransform: 'uppercase',\r\n            }}>\r\n            {product.isAvailable ? 'Add to cart' : 'Not Avialable'}\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </ImageBackground>\r\n  );\r\n};\r\n\r\nexport default ProductInfo;"]},"metadata":{},"sourceType":"module"}