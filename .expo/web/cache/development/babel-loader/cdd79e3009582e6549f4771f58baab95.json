{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from \"firebase/auth\";\nimport 'firebase/firestore';\nimport firebase from 'firebase/';\nvar firebaseConfig = {\n  apiKey: \"AIzaSyD2oDpOyTjWpQ6DGaejXfZyXgieiEBFOUQ\",\n  authDomain: \"medicalappshovalohad.firebaseapp.com\",\n  projectId: \"medicalappshovalohad\",\n  storageBucket: \"medicalappshovalohad.appspot.com\",\n  messagingSenderId: \"1048119374954\",\n  appId: \"1:1048119374954:web:caad5648aefb1edf50c613\",\n  measurementId: \"G-RW6H67HL4E\"\n};\nvar app = initializeApp(firebaseConfig);\nexport var auth = getAuth(app);\nexport var createUserDocument = function createUserDocument(user, additionalData) {\n  var userRef, snapshot, email, displayName;\n  return _regeneratorRuntime.async(function createUserDocument$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (user) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt(\"return\");\n\n        case 2:\n          userRef = firestore.doc(\"users/\" + user.uid);\n          _context.next = 5;\n          return _regeneratorRuntime.awrap(userRef.get());\n\n        case 5:\n          snapshot = _context.sent;\n\n          if (snapshot.exists) {\n            _context.next = 17;\n            break;\n          }\n\n          email = user.email;\n          displayName = additionalData.displayName;\n          _context.prev = 9;\n          _context.next = 12;\n          return _regeneratorRuntime.awrap(userRef.set({\n            displayName: displayName,\n            email: email,\n            createdAt: new Date()\n          }));\n\n        case 12:\n          _context.next = 17;\n          break;\n\n        case 14:\n          _context.prev = 14;\n          _context.t0 = _context[\"catch\"](9);\n          console.log('Error in creating user', _context.t0);\n\n        case 17:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[9, 14]], Promise);\n};","map":{"version":3,"names":["initializeApp","getAuth","firebase","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","createUserDocument","user","additionalData","userRef","firestore","doc","uid","get","snapshot","exists","email","displayName","set","createdAt","Date","console","log"],"sources":["C:/Users/PC/Desktop/All/MedicalApp/my-app/client/firebase.js"],"sourcesContent":["import { initializeApp } from \"firebase/app\";\r\nimport { getAuth} from \"firebase/auth\";\r\nimport 'firebase/firestore';\r\nimport firebase from 'firebase/'\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyD2oDpOyTjWpQ6DGaejXfZyXgieiEBFOUQ\",\r\n  authDomain: \"medicalappshovalohad.firebaseapp.com\",\r\n  projectId: \"medicalappshovalohad\",\r\n  storageBucket: \"medicalappshovalohad.appspot.com\",\r\n  messagingSenderId: \"1048119374954\",\r\n  appId: \"1:1048119374954:web:caad5648aefb1edf50c613\",\r\n  measurementId: \"G-RW6H67HL4E\"\r\n};\r\n\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\n\r\n\r\nexport const createUserDocument = async (user, additionalData) => {\r\n  if (!user) return;\r\n\r\n  const userRef = firestore.doc(`users/${user.uid}`);\r\n\r\n  const snapshot = await userRef.get();\r\n\r\n  if (!snapshot.exists) {\r\n    const { email } = user;\r\n    const { displayName } = additionalData;\r\n\r\n    try {\r\n      await userRef.set({\r\n        displayName,\r\n        email,\r\n        createdAt: new Date(),\r\n      });\r\n    } catch (error) {\r\n      console.log('Error in creating user', error);\r\n    }\r\n  }\r\n};\r\n"],"mappings":";AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,SAASC,OAAT,QAAuB,eAAvB;AACA,OAAO,oBAAP;AACA,OAAOC,QAAP,MAAqB,WAArB;AACA,IAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCADa;EAErBC,UAAU,EAAE,sCAFS;EAGrBC,SAAS,EAAE,sBAHU;EAIrBC,aAAa,EAAE,kCAJM;EAKrBC,iBAAiB,EAAE,eALE;EAMrBC,KAAK,EAAE,4CANc;EAOrBC,aAAa,EAAE;AAPM,CAAvB;AAWA,IAAMC,GAAG,GAAGX,aAAa,CAACG,cAAD,CAAzB;AACA,OAAO,IAAMS,IAAI,GAAGX,OAAO,CAACU,GAAD,CAApB;AAGP,OAAO,IAAME,kBAAkB,GAAG,SAArBA,kBAAqB,CAAOC,IAAP,EAAaC,cAAb;EAAA;EAAA;IAAA;MAAA;QAAA;UAAA,IAC3BD,IAD2B;YAAA;YAAA;UAAA;;UAAA;;QAAA;UAG1BE,OAH0B,GAGhBC,SAAS,CAACC,GAAV,YAAuBJ,IAAI,CAACK,GAA5B,CAHgB;UAAA;UAAA,iCAKTH,OAAO,CAACI,GAAR,EALS;;QAAA;UAK1BC,QAL0B;;UAAA,IAO3BA,QAAQ,CAACC,MAPkB;YAAA;YAAA;UAAA;;UAQtBC,KARsB,GAQZT,IARY,CAQtBS,KARsB;UAStBC,WATsB,GASNT,cATM,CAStBS,WATsB;UAAA;UAAA;UAAA,iCAYtBR,OAAO,CAACS,GAAR,CAAY;YAChBD,WAAW,EAAXA,WADgB;YAEhBD,KAAK,EAALA,KAFgB;YAGhBG,SAAS,EAAE,IAAIC,IAAJ;UAHK,CAAZ,CAZsB;;QAAA;UAAA;UAAA;;QAAA;UAAA;UAAA;UAkB5BC,OAAO,CAACC,GAAR,CAAY,wBAAZ;;QAlB4B;QAAA;UAAA;MAAA;IAAA;EAAA;AAAA,CAA3B"},"metadata":{},"sourceType":"module"}