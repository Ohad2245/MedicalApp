{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport ReferenceBase from \"../../utils/ReferenceBase\";\nimport StorageTask, { UPLOAD_TASK, DOWNLOAD_TASK } from \"./task\";\nimport { isIOS } from \"../../utils\";\nimport { getNativeModule } from \"../../utils/native\";\n\nvar StorageReference = function (_ReferenceBase) {\n  _inherits(StorageReference, _ReferenceBase);\n\n  var _super = _createSuper(StorageReference);\n\n  function StorageReference(storage, path) {\n    var _this;\n\n    _classCallCheck(this, StorageReference);\n\n    _this = _super.call(this, path);\n    _this._storage = storage;\n    return _this;\n  }\n\n  _createClass(StorageReference, [{\n    key: \"fullPath\",\n    get: function get() {\n      return this.path;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return \"gs://\" + this._storage.app.options.storageBucket + this.path;\n    }\n  }, {\n    key: \"child\",\n    value: function child(path) {\n      return new StorageReference(this._storage, this.path + \"/\" + path);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete() {\n      return getNativeModule(this._storage).delete(this.path);\n    }\n  }, {\n    key: \"getDownloadURL\",\n    value: function getDownloadURL() {\n      return getNativeModule(this._storage).getDownloadURL(this.path);\n    }\n  }, {\n    key: \"getMetadata\",\n    value: function getMetadata() {\n      return getNativeModule(this._storage).getMetadata(this.path);\n    }\n  }, {\n    key: \"updateMetadata\",\n    value: function updateMetadata() {\n      var metadata = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return getNativeModule(this._storage).updateMetadata(this.path, metadata);\n    }\n  }, {\n    key: \"downloadFile\",\n    value: function downloadFile(filePath) {\n      return new StorageTask(DOWNLOAD_TASK, getNativeModule(this._storage).downloadFile(this.path, filePath), this);\n    }\n  }, {\n    key: \"put\",\n    get: function get() {\n      return this.putFile;\n    }\n  }, {\n    key: \"putFile\",\n    value: function putFile(filePath) {\n      var metadata = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _filePath = isIOS ? filePath.replace('file://', '') : filePath;\n\n      if (_filePath.includes('%')) _filePath = decodeURIComponent(_filePath);\n      return new StorageTask(UPLOAD_TASK, getNativeModule(this._storage).putFile(this.path, _filePath, metadata), this);\n    }\n  }]);\n\n  return StorageReference;\n}(ReferenceBase);\n\nexport { StorageReference as default };","map":{"version":3,"names":["ReferenceBase","StorageTask","UPLOAD_TASK","DOWNLOAD_TASK","isIOS","getNativeModule","StorageReference","storage","path","_storage","app","options","storageBucket","delete","getDownloadURL","getMetadata","metadata","updateMetadata","filePath","downloadFile","putFile","_filePath","replace","includes","decodeURIComponent"],"sources":["C:/Users/PC/Desktop/All/StoreApp2/my-app/node_modules/react-native-firebase/dist/modules/storage/reference.js"],"sourcesContent":["/**\n * \n * StorageReference representation wrapper\n */\nimport ReferenceBase from '../../utils/ReferenceBase';\nimport StorageTask, { UPLOAD_TASK, DOWNLOAD_TASK } from './task';\nimport { isIOS } from '../../utils';\nimport { getNativeModule } from '../../utils/native';\n\n/**\n * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference\n */\nexport default class StorageReference extends ReferenceBase {\n  constructor(storage, path) {\n    super(path);\n    this._storage = storage;\n  }\n\n  get fullPath() {\n    return this.path;\n  }\n\n  toString() {\n    return `gs://${this._storage.app.options.storageBucket}${this.path}`;\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#child\n   * @param path\n   * @returns {StorageReference}\n   */\n\n\n  child(path) {\n    return new StorageReference(this._storage, `${this.path}/${path}`);\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#delete\n   * @returns {Promise.<T>|*}\n   */\n\n\n  delete() {\n    return getNativeModule(this._storage).delete(this.path);\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#getDownloadURL\n   * @returns {Promise.<T>|*}\n   */\n\n\n  getDownloadURL() {\n    return getNativeModule(this._storage).getDownloadURL(this.path);\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#getMetadata\n   * @returns {Promise.<T>|*}\n   */\n\n\n  getMetadata() {\n    return getNativeModule(this._storage).getMetadata(this.path);\n  }\n  /**\n   * @url https://firebase.google.com/docs/reference/js/firebase.storage.Reference#updateMetadata\n   * @param metadata\n   * @returns {Promise.<T>|*}\n   */\n\n\n  updateMetadata(metadata = {}) {\n    return getNativeModule(this._storage).updateMetadata(this.path, metadata);\n  }\n  /**\n   * Downloads a reference to the device\n   * @param {String} filePath Where to store the file\n   * @return {Promise}\n   */\n\n\n  downloadFile(filePath) {\n    return new StorageTask(DOWNLOAD_TASK, getNativeModule(this._storage).downloadFile(this.path, filePath), this);\n  }\n  /**\n   * Alias to putFile\n   * @returns {StorageReference.putFile}\n   */\n\n\n  get put() {\n    return this.putFile;\n  }\n  /**\n   * Upload a file path\n   * @param  {string} filePath The local path of the file\n   * @param  {object} metadata An object containing metadata\n   * @return {Promise}\n   */\n\n\n  putFile(filePath, metadata = {}) {\n    let _filePath = isIOS ? filePath.replace('file://', '') : filePath;\n\n    if (_filePath.includes('%')) _filePath = decodeURIComponent(_filePath);\n    return new StorageTask(UPLOAD_TASK, getNativeModule(this._storage).putFile(this.path, _filePath, metadata), this);\n  }\n\n}"],"mappings":";;;;;;;;;;AAIA,OAAOA,aAAP;AACA,OAAOC,WAAP,IAAsBC,WAAtB,EAAmCC,aAAnC;AACA,SAASC,KAAT;AACA,SAASC,eAAT;;IAKqBC,gB;;;;;EACnB,0BAAYC,OAAZ,EAAqBC,IAArB,EAA2B;IAAA;;IAAA;;IACzB,0BAAMA,IAAN;IACA,MAAKC,QAAL,GAAgBF,OAAhB;IAFyB;EAG1B;;;;SAED,eAAe;MACb,OAAO,KAAKC,IAAZ;IACD;;;WAED,oBAAW;MACT,iBAAe,KAAKC,QAAL,CAAcC,GAAd,CAAkBC,OAAlB,CAA0BC,aAAzC,GAAyD,KAAKJ,IAA9D;IACD;;;WAQD,eAAMA,IAAN,EAAY;MACV,OAAO,IAAIF,gBAAJ,CAAqB,KAAKG,QAA1B,EAAuC,KAAKD,IAA5C,SAAoDA,IAApD,CAAP;IACD;;;WAOD,mBAAS;MACP,OAAOH,eAAe,CAAC,KAAKI,QAAN,CAAf,CAA+BI,MAA/B,CAAsC,KAAKL,IAA3C,CAAP;IACD;;;WAOD,0BAAiB;MACf,OAAOH,eAAe,CAAC,KAAKI,QAAN,CAAf,CAA+BK,cAA/B,CAA8C,KAAKN,IAAnD,CAAP;IACD;;;WAOD,uBAAc;MACZ,OAAOH,eAAe,CAAC,KAAKI,QAAN,CAAf,CAA+BM,WAA/B,CAA2C,KAAKP,IAAhD,CAAP;IACD;;;WAQD,0BAA8B;MAAA,IAAfQ,QAAe,uEAAJ,EAAI;MAC5B,OAAOX,eAAe,CAAC,KAAKI,QAAN,CAAf,CAA+BQ,cAA/B,CAA8C,KAAKT,IAAnD,EAAyDQ,QAAzD,CAAP;IACD;;;WAQD,sBAAaE,QAAb,EAAuB;MACrB,OAAO,IAAIjB,WAAJ,CAAgBE,aAAhB,EAA+BE,eAAe,CAAC,KAAKI,QAAN,CAAf,CAA+BU,YAA/B,CAA4C,KAAKX,IAAjD,EAAuDU,QAAvD,CAA/B,EAAiG,IAAjG,CAAP;IACD;;;SAOD,eAAU;MACR,OAAO,KAAKE,OAAZ;IACD;;;WASD,iBAAQF,QAAR,EAAiC;MAAA,IAAfF,QAAe,uEAAJ,EAAI;;MAC/B,IAAIK,SAAS,GAAGjB,KAAK,GAAGc,QAAQ,CAACI,OAAT,CAAiB,SAAjB,EAA4B,EAA5B,CAAH,GAAqCJ,QAA1D;;MAEA,IAAIG,SAAS,CAACE,QAAV,CAAmB,GAAnB,CAAJ,EAA6BF,SAAS,GAAGG,kBAAkB,CAACH,SAAD,CAA9B;MAC7B,OAAO,IAAIpB,WAAJ,CAAgBC,WAAhB,EAA6BG,eAAe,CAAC,KAAKI,QAAN,CAAf,CAA+BW,OAA/B,CAAuC,KAAKZ,IAA5C,EAAkDa,SAAlD,EAA6DL,QAA7D,CAA7B,EAAqG,IAArG,CAAP;IACD;;;;EA5F2ChB,a;;SAAzBM,gB"},"metadata":{},"sourceType":"module"}